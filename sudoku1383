#include<stdio.h>
#include<stdlib.h>
#include<string.h>

// verificando a matriz 3por3
int verifica(int linha, int x, int m[9][9]){
    int soma= 0, i;
    for(i=x; i<x + 3; i++){
        soma += m[linha][i];
    }

    linha++;
    for(i=x; i<x + 3; i++){
        soma += m[linha][i];
    }
 
    linha++;
    for(i=x; i<x + 3; i++){
        soma += m[linha][i];
    }

    if(soma == 45){
        return 0;
    }else{
        return 1;
    }
}
//principal
int main(){
    int x=1, n, i, j, k, m[9][9];
    int flag ,*vet;
    
    scanf("%d",&n);
    
    while(n--){
        // leitura
        for(i=0; i<9; i++){
            for(j=0; j<9; j++){
                scanf("%d",&m[i][j]);
            }
        }
 
        printf("Instancia %d\n",x);
         
        flag=0;
        
        // verificando numeros repetidos na linha
        for(i=0;i<9;i++){
            vet = (int*)calloc(10, sizeof(int));
            
            for(j=0;j<9;j++){
                if(vet[m[i][j]] == 0){
                  vet[m[i][j]] = m[i][j];
               
                }else{
                    flag=1;
                    i=9;
                    j=9;
                }
            }
        }
// verificando numeros repetidos na coluna
        for(i=0; i<9; i++){
            vet=(int*)calloc(10,sizeof(int));
            for(j=0;j<9;j++){
                if(vet[m[i][i]] == 0){
                    vet[m[j][i]] = m[j][i];
                }else{
                    flag= 1;
                    i=9;
                    j=9;
                }
            }
        }
        if(flag == 1){
            puts(NAO");
